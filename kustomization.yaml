# VMStation Monitoring Stack (repo root)
# Use with: kubectl apply -k .
#
# Why this exists:
# - kubectl/kustomize enforces a load restrictor that prevents a kustomization in
#   manifests/ from loading files outside that directory.
# - Grafana dashboards live in dashboards/, so we generate the dashboards
#   ConfigMap from here at repo root and include manifests/ as a base.
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - manifests

# NOTE: Grafana dashboards are intentionally NOT packaged into a single ConfigMap.
# Large community dashboards can exceed Kubernetes' apiserver object-size limits.
# Dashboards are instead synced onto the NFS-backed Grafana PVC at deploy time.
